@page "/search"
@inject NavigationManager NavigationManager
@inject AuthenticationStateProvider authStateProvider
@inject PokémonService pokémonService
@using System.Security.Claims;
@using System.Text;
@using Front.Components.Widget
@using PokéService.Entities;


<link rel="stylesheet" href="style.css" />

<PageTitle>Recherche</PageTitle>

<div class="titleBanner">
	<img src="images/Recherche.png" alt="Recherche Image">
</div>

<div class="Pokedex">
	<img id="Pokedex" src="images/Pokedex.png" alt="Pokedex">
	<div class="Formedex">
		<SearchGrid Searcher="Searcher" />
    </div>		
</div>


@code {
	public async Task<IEnumerable<Pokémon>?> Searcher(string query) {
		pokémonService.SetAuthenticator((CustomAuthenticationStateProvider)authStateProvider); // ensure manual injection of authStateProvider
		return await pokémonService.Search(query);
	}
}